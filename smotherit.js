(function(a){if("loaded"!==window.mikefsoapi){var r,s={},j,k={setup:!1,grading:!1,gradingTrue:!1,reportComplete:!1,reportGrades:!1},o,t,x,l,p=a(window),B={video:{color:"#484a57",regex:/(video|screencast)[ ]*[-:]/i},activity:{color:"#75756d",regex:/(act|activity|read|reading|poll)[ ]*[-:]/i},discussion:{color:"#88a75d",regex:/(disc|discuss|discussion|wimba)[ ]*[-:]/i},assignment:{color:"#e85b00",regex:/(asn|assign|assignment|deliverable|deliver|test)[ ]*[-:]/i},project:{color:"#a84d10",regex:/(project)[ ]*[-:]/i},
gps:{color:"#f44e13",regex:/Professionalism/}};window.mikefsoapi="loaded";a("body > *:not(script)").wrapAll('<div id="ajaxsitwrap"></div>');a("head").append('<link rel="stylesheet" href="http://wddbs.com/~SFW/smotherit/fsokit.css?v=2.2" />');var u=function(b){setTimeout(function(){var d=a(b.dpDiv).find(".ui-datepicker-buttonpane");d.find(".ui-datepicker-close").click(function(){a.datepicker._clearDate(b.input);a(b.input).val("Current");return!1}).appendTo(d)},50)},y=function(){j.find(".smotherBlank").remove()},
C=function(b){try{a(r[b-1]).removeClass("sithover")}catch(d){}var c=r[b];if("undefined"!==typeof c){c=a(c);c.addClass("sithover");a("#loadertext").html("Saving changes, please wait... ("+(b+1)+"/"+r.length+")");var f=a(".forcepushdate").val(),h=a(".forcepulldate").val(),f="Choose"===f||"Current"===f?c.find('input[name="pushDate"]').val():f,h="Choose"===h||"Current"===h?c.find('input[name="pullDate"]').val():h;a.ajax({type:"post",dataType:"json",cache:!1,url:"/com/fullsail/lms/service/remote/Delivery.cfc",
data:{method:"saveDelivery",_deliveryId:c.find(".deliveryId").val(),_isImportant:0,_isViewable:!0,_sortOrder:c.find(".sortOrder").val(),_accessEventUUID:a("#lmsVars").attr("fs:accesseventid"),returnFormat:"json",_activeDate:f,_inactiveDate:h},success:function(){c.find("input[name=pushDate]").val(f);c.find("input[name=pullDate]").val(h);b++;C(b)},error:function(){alert("A date submission failed, please refresh the page and try again.");q()}})}else q()};s.setup=function(){y();a(".nameCol").width(317);
a(".buttonsCol:first").width(84);a(".buttonsCol:not(:first)").css({paddingLeft:0,width:68});a('<span class="fitemp"><input type="checkbox" class="forceitem" name="forceitem" /></span>').insertBefore(".buttonsCol:not(:first)").css({zIndex:45,paddingRight:3}).find("input").bind("click",function(a){a.stopPropagation()});a(".nameCol:not(:first)").bind("click.smotherit",function(){var b=a(this).parent().find(".forceitem");b.attr("checked",!0==b.attr("checked")?!1:!0);return!1});a('<div class="smotherBox smotherPad"><span style="font-weight:bold;">Change All Checkboxed:</span>&nbsp;&nbsp;&nbsp;<span><em>Push: </em><input class="input_red_no_border_e forcepushdate"  readonly="readonly" name="pushDate" size="9" value="Choose" /></span>&nbsp;&nbsp;<span><em>Pull: </em><input class="input_red_no_border_e forcepulldate" readonly="readonly" name="pullDate" size="9" value="Choose" /></span><span>&nbsp;&nbsp;<button class="submitforces">Save</button>&nbsp;&nbsp;<button class="resetchecks">Uncheck All</button></span></div>').prependTo(j);
a(".input_red_no_border_e").datepicker({dateFormat:"M. dd, y",showButtonPanel:!0,closeText:"Use Existing",beforeShow:function(a,d){u(d)},onChangeMonthYear:function(a,d,c){u(c)}});a(".resetchecks").bind("click.smotherit",function(){a("input.forceitem").attr({checked:!1})});a(".submitforces").bind("click",function(){z();v.css({display:"block",left:a(window).width()/2-v.innerWidth()/2,top:a(window).height()/2-v.innerHeight()/2});r=a("input.forceitem:checked").parent().parent();C(0)});a("#sortable").selectable({filter:".nameCol",
selected:function(b,d){var c=a(d.selected).parent().find(".forceitem");c.attr("checked",!0==c.attr("checked")?!1:!0)}});a(".nameCol").each(function(){var b=a(this),d=b.text(),c;for(c in B){var f=B[c];if(d.match(f.regex)){b.siblings(".typeCol").css({backgroundColor:f.color});break}}})};s.reportComplete=function(){if(a.browser.mozilla){y();a('<div class="smotherBox smotherPad"><span style="font-weight:bold;">Table styles fixed.</span></div>').prependTo(j);p.unbind("scroll resize");a("body").css({position:"relative"});
a("#content").css({width:"97%",margin:0,background:"none",paddingBottom:"20px",height:"520px"});a("#contentTop").css({background:"none"});a("#contentBottom").remove();a("#rightCol").css({background:"#eaeaea"});a("#leftCol").css({width:"auto",maxWidth:"none",position:"absolute",left:"0",right:"240px",height:"410px",marginBottom:"20px"});var b=a("#classReportsWrapper").css({width:"auto",maxWidth:"none",marginBottom:"20px",overflow:"auto"});b.scrollLeft(0);b.scrollTop(0);var d=a("#classReports");d.css({position:"relative"});
d.find("tbody").css({position:"relative"});var c=a("<thead></thead>").prependTo(d);d.find("tr:first").appendTo(c).css({position:"relative",top:0,left:0,marginTop:0});d.find("tbody tr:first").css({marginTop:0,position:"static"});var f=c.offset().top-40,h=c.offset().left;c.css({position:"fixed",top:f,left:h});d.find("tbody tr").bind("click",function(){a(this).addClass("classReportActive").siblings().removeClass("classReportActive")});var e=d.find("th:first-child").width(),g=d.find("th:first-child, td:first-child").each(function(){var c=
a(this),b=c.offset().top,f=c.offset().left;c.attr("data-top",b);a(this).css({position:"fixed",top:b,left:f,width:e})}).filter("td");g.filter("td:odd").css({background:"white"});a("#classReports tr td:nth-child(202n-200), #classReports th:nth-child(202n-200)").css({paddingLeft:170});p.add(b).bind("scroll.smotherit",function(){c.css({top:f-p.scrollTop(),left:h-b.scrollLeft()});c.find("th:first").css({top:f-p.scrollTop()});g.css("top",function(){return a(this).attr("data-top")-p.scrollTop()-b.scrollTop()})}).trigger("scroll")}};
s.grading=function(){y();a(".col980").css("width","97%");a("#leftCol").css("width","78%");a(".student .studentName").css({width:"auto",marginLeft:143});a(".student .icons").css({width:143}).prepend('<li class="right fsokit-btn kit-grade" style=""><a href="#" title="Quick Grade">G</a></li><li class="right fsokit-btn kit-except" style=""><a href="#" title="Give Exception">X</a></li>');var b=a('<iframe src="http://course.online.fullsail.edu/?fuseaction=lms.enterClassSection&classSectionId='+o+'" width="1" height="1" />').appendTo(document.body);
b.bind("load",function(){setTimeout(function(){b.remove()},2E3)});var d={};a.ajax({url:"/com/fullsail/lms/service/remote/Learning.cfc",global:!1,data:{method:"listClassSectionRoster",_classSectionId:o,_accessEventUUID:t,returnFormat:"json"},dataType:"json",type:"post",success:function(c){for(var b,h=0,e=c.data.length;h<e;h++)b=c.data[h],d[b.studentId]=b.primaryEmail;a(".student .icons").each(function(){var c=a(this),b=c.closest(".activity").children("h4").text(),f=c.closest(".student").find(".studentName").text(),
f=f.slice(f.indexOf("(")+1,f.indexOf(")"));c.prepend('<li class="right fsokit-btn kit-email" style=""><a href="'+("mailto:"+d[f]+"?subject=Missing%20Activity&body=According%20to%20FSO%2C%20you%20have%20not%20completed%20the%20%22"+b+"%22%20activity.%20%20Please%20contact%20me%20as%20soon%20as%20possible%20if%20this%20is%20in%20error.")+'" title="Email Student">E</a></li>')})}});a('<div class="smotherBox smotherPad"><span style="font-weight:bold;">Enhanced</span></div><div class="smotherBox smotherPad"><button class="sit-open-all-dl">Toggle download panels</button></div>').prependTo(j);
a(".activity").each(function(){var c=a(this).attr("fs:activityid");a(this).find("h4").append('&nbsp;<a href="http://course.online.fullsail.edu/index.cfm?fuseaction=lms.activitiesAssignment&activityId='+c+'" target="_blank" style="font-size:12px; color:#FF1100;" class="kit-preview">(preview)</a>').find(".kit-preview").bind("click",function(a){a.stopPropagation()})});a(".sit-open-all-dl").bind("click",function(){var c=a(".downloads");c[c.is(":visible")?"hide":"show"]();return!1});a(".downloadIcon").each(function(){var c=
a(this).parent().parent().parent().find(".downloads");a.ajax({type:"POST",url:"/com/fullsail/lms/service/remote/Asset.cfc",data:{method:"listTaskAssets",_taskId:a(this).parent().parent().parent().attr("fs:taskId"),_accessEventUUID:a("#assignments").attr("fs:accessEventUUID"),returnformat:"json"},dataType:"json",success:function(b){if(!0==b.success)if(a(c).empty(),0<b.results)for(var d=0;d<b.results;d++){var e=b.data[d],e="<li><a class='"+e.iconClass+"' href='"+e.assetURL+"'>"+(e.title+"."+e.extension)+
"</a></li>";a(c).append(e)}else a(c).append("<li>No files</li>")}})});a(".student .kit-except a").live("click",function(){var c=a(this),b=c.parent().parent().parent(),d=b.find(".studentName").text(),e=b.find(".gradeIcon").attr("href"),g=e.substring(e.indexOf("activityId=")+11,e.indexOf("&deliveryId")),k=e.substring(e.indexOf("deliveryId=")+11,e.indexOf("&accountId")),j=e.substring(e.indexOf("accountId=")+10,e.length),d=a.trim(d.substring(0,d.indexOf("(")-1));z();i.css({display:"block"});m.hide();
n.hide();a(".kit-tooltip-tip-bot, .kit-tooltip-tip-top").show();i.css({top:c.offset().top-i.outerHeight()-2,left:c.offset().left-15}).find(".kit-submit-bar input").val("Submit Exception: "+d);i.offset().top<a(window).scrollTop()+60?(bot=!1,a(".kit-tooltip-tip-bot").hide(),i.css({top:c.offset().top+24})):a(".kit-tooltip-tip-top").hide();i.find("form").unbind().bind("submit",function(){m.show();a.ajax({type:"post",global:!1,dataType:"json",data:{method:"saveStudentActivityDelivery",_accountId:j,_activityId:g,
_deliveryId:k,_classSectionId:o,_inactiveDate:i.find(".kit-entries input").val(),_accessEventUUID:t,returnFormat:"json"},url:"/com/fullsail/lms/service/remote/Learning.cfc",success:function(a){!0!==a.success?n.show().text("An unknown error occurred."):(q(),b.find(".studentName").append('<em style="color:red"> Exception</em>'))},error:function(){n.show().text("An unknown error occurred.")},complete:function(){m.hide()}});return!1});return!1});a(".student .kit-grade a").live("click",function(){var c=
a(this),b=c.parent().parent().parent(),d=b.find(".studentName").text(),e=b.find(".gradeIcon").attr("href"),i=e.substring(e.indexOf("activityId=")+11,e.indexOf("&deliveryId")),j=e.substring(e.indexOf("deliveryId=")+11,e.indexOf("&accountId")),l=e.substring(e.indexOf("accountId=")+10,e.length),d=a.trim(d.substring(0,d.indexOf("(")-1));z();g.css({display:"block"});g.find(".kit-entries input").val(100);g.find("textarea").val("");w.slider("value",100);m.hide();n.hide();a(".kit-tooltip-tip-bot, .kit-tooltip-tip-top").show();
g.css({top:c.offset().top-g.outerHeight()-2,left:c.offset().left-15}).find(".kit-submit-bar input").val("Submit: "+d);g.offset().top<a(window).scrollTop()+60?(bot=!1,a(".kit-tooltip-tip-bot").hide(),g.css({top:c.offset().top+24})):a(".kit-tooltip-tip-top").hide();!0===k.gradingTrue&&(m.show(),a.ajax({url:"http://faculty.online.fullsail.edu/index.cfm?fuseaction=lms.gradingsAssignment&activityId="+i+"&accountId="+l,global:!1,type:"get",success:function(b){b=a(b).find(".gradeScore strong").text();g.find(".kit-entries input").val(b);
w.slider("value",b);m.hide()}}));g.find("form").unbind().bind("submit",function(){m.show();a.ajax({type:"post",global:!1,dataType:"json",data:{_accountId:l,_activityId:i,_deliveryId:j,_classSectionId:o,_accessEventUUID:t,_gradeScore:g.find(".kit-entries input").val(),_comment:g.find(".kit-entries textarea").val(),method:"saveSimpleGrade",returnFormat:"json"},url:"/com/fullsail/lms/service/remote/Learning.cfc",success:function(a){!0!==a.success?n.show().text("An unknown error occurred."):(q(),!1===
k.gradingTrue&&b.fadeOut(function(){b.remove()}))},error:function(){n.show().text("An unknown error occurred.")},complete:function(){m.hide()}});return!1});return!1})};(function(){a(".colorF:contains('Instructor')").text().indexOf("Josh Donlan");var b=window.location.href;k.setup=-1!=b.indexOf("setupActivities")?!0:!1;k.grading=-1!=b.indexOf("gradings")&&-1==b.indexOf("activityType=test")?!0:!1;k.gradingTrue=-1!=b.indexOf("isGraded=true")?!0:!1;k.reportComplete=-1!=b.indexOf("reportsCompletionClass")?
!0:!1;k.reportGrades=-1!=b.indexOf("reportsGradesClass")?!0:!1;o=a("[name=classSectionId]").attr("fs:currentclasssectionid");t=a("[name=termId]").attr("fs:accesseventuuid");a("#headerWrapper").css({paddingTop:54});j=a('<div class="smotherACT" />').insertAfter("#ajaxsitwrap");a('<div class="smotherBox smotherPad smotherBlank">No features are added for this FSO page.</div><div class="smotherBox smotherPad">FSO Status: <span class="ACTstatus actsup">Up</span></div><div class="smotherPad" style="float:left;">FSO-Kit v2.2</div><div class="smotherPad" style="float:left;"><span class="fsovoice-btn"><a target="_blank" href="http://fso.userecho.com/">Give Feedback</a></span></div><div style="clear:both;"></div>').appendTo(j);
l=j.find(".ACTstatus");var d=a("<div />");x=function(){l.removeClass("actsup actsdown").addClass("actsload").text("checking");d.remove();d=a('<iframe src="http://faculty.online.fullsail.edu/index.cfm?fuseaction=lms.reportsGradesClass" width="100" height="100" />').appendTo(document.body).css({display:"none"});setTimeout(x,12E4);a.ajax({url:"/com/fullsail/lms/service/remote/Academic.cfc",type:"get",dataType:"json",global:!1,timeout:1E4,data:{method:"searchTermsForAccount",_accountId:a('select[name="termId"]').attr("fs:accountId"),
_accessEventUUID:a('select[name="termId"]').attr("fs:accessEventUUID"),_SISId:a('select[name="termId"]').attr("fs:SISId"),returnformat:"json"},success:function(a){"false"!=a.success?l.addClass("actsup").text("up"):l.addClass("actsdown").text("down")},error:function(){l.addClass("actsdown").text("down")},complete:function(){l.removeClass("actsload")}})};setTimeout(x,12E4)})();var A=a('<div style="position:fixed; display:none; top:0; left:0; width:100%; height:100%; background:#555; opacity:0.7; z-index:1000;"></div>').insertAfter("#ajaxsitwrap"),
v=a('<div style="-moz-box-shadow:0 0 10px black; -webkit-box-shadow:0 0 10px black; position:fixed; display:none; height:30px; padding:12px 16px; background:url(http://codeinfused.com/ajax-loader.gif) no-repeat 93% 50% white; z-index:1001;"><span id="loadertext" style="display:block; height:30px; line-height:30px; padding-right:42px;">Saving changes, please wait ...</span></div>').insertAfter("#ajaxsitwrap"),g=a('<div class="kit-tooltip-wrap"><div class="kit-tooltip-tip-top"></div><div class="kit-tooltip-tip-bot"></div><div class="kit-tooltip-body tip-grading"><form action="#"><div class="kit-tooltip-top"></div><div class="kit-entries"><p>Grade:</p><input type="text" size="3" value="100" tabindex="1" /><div class="grade-slider"></div><p>Comments:</p><textarea tabindex="2"></textarea><div class="clear"></div></div><div class="kit-submit-bar"><input type="submit" value="Submit grade" /></div></form><div class="clear"></div><div class="kit-loader"></div></div><div class="kit-error">An unknown error occurred.</div></div>').insertAfter("#ajaxsitwrap"),
i=a('<div class="kit-tooltip-wrap"><div class="kit-tooltip-tip-top"></div><div class="kit-tooltip-tip-bot"></div><div class="kit-tooltip-body tip-except"><form action="#"><div class="kit-tooltip-top"></div><div class="kit-entries"><p>Select a date to extend this exception to:</p><input type="text" size="10" value="" tabindex="1" class="exceptDate" /><div class="clear"></div></div><div class="kit-submit-bar"><input type="submit" value="Submit Exception" /></div></form><div class="clear"></div><div class="kit-loader"></div></div><div class="kit-error">An unknown error occurred.</div></div>').insertAfter("#ajaxsitwrap");
i.find("p").css("paddingBottom",5).end().find(".kit-tooltip-body").width(260);i.find(".exceptDate").datepicker({dateFormat:"M. dd, y",showButtonPanel:!0,closeText:"Use Existing",beforeShow:function(a,d){u(d)},onChangeMonthYear:function(a,d,c){u(c)}});var m=a(".kit-loader"),n=a(".kit-error"),w=g.find(".grade-slider");g.find(".kit-entries input").bind("keyup",function(){w.slider("value",a(this).val())});w.slider({max:100,step:1,value:100,slide:function(a,d){g.find(".kit-entries input").val(d.value)}});
A.click(function(){q();return!1});var z=function(){A.css({display:"block"})},q=function(){A.css({display:"none"});v.css({display:"none"});g.css({display:"none"});i.css({display:"none"})};a.each(k,function(a,d){try{if(!0===d&&"gradingTrue"!==a)s[a]()}catch(c){}})}})(jQuery);